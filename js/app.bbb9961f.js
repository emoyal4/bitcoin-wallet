(function(t){function e(e){for(var r,o,c=e[0],i=e[1],u=e[2],p=0,m=[];p<c.length;p++)o=c[p],Object.prototype.hasOwnProperty.call(a,o)&&a[o]&&m.push(a[o][0]),a[o]=0;for(r in i)Object.prototype.hasOwnProperty.call(i,r)&&(t[r]=i[r]);l&&l(e);while(m.length)m.shift()();return s.push.apply(s,u||[]),n()}function n(){for(var t,e=0;e<s.length;e++){for(var n=s[e],r=!0,c=1;c<n.length;c++){var i=n[c];0!==a[i]&&(r=!1)}r&&(s.splice(e--,1),t=o(o.s=n[0]))}return t}var r={},a={app:0},s=[];function o(e){if(r[e])return r[e].exports;var n=r[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=t,o.c=r,o.d=function(t,e,n){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)o.d(n,r,function(e){return t[e]}.bind(null,r));return n},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/bitcoin-wallet/";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],i=c.push.bind(c);c.push=e,c=c.slice();for(var u=0;u<c.length;u++)e(c[u]);var l=i;s.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"27dc":function(t,e,n){},"56d7":function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var r=n("2b0e"),a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("app-header"),n("router-view"),n("app-footer")],1)},s=[],o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{staticClass:"app-header main-layout"},[n("div",{staticClass:"header-container",class:{open:t.isNavOpen}},[n("div",{staticClass:"screen",on:{click:function(e){t.isNavOpen=!t.isNavOpen}}}),n("div",{staticClass:"logo",on:{click:function(e){return t.$router.push("/")}}},[t._m(0),n("h1",[t._v("Bitcoin wallet")])]),n("nav",{staticClass:"nav"},[n("router-link",{attrs:{exact:"",to:"/"}},[t._v("Home")]),n("router-link",{attrs:{exact:"",to:"/wallet"}},[t._v("Wallet")]),t.loggedInUser?t._e():n("router-link",{staticClass:"login-link",attrs:{exact:"",to:"/login"}},[t._v("Login")])],1),t.loggedInUser?n("div",{staticClass:"user-info"},[n("button",{on:{click:t.logout}},[t._v("Logout")]),n("img",{attrs:{src:t.loggedInUser.imgUrl,alt:"user-avatar"}})]):n("router-link",{staticClass:"login-link",attrs:{to:"/login"}},[t._v("Login")]),n("button",{staticClass:"hamburger-btn",on:{click:function(e){t.isNavOpen=!t.isNavOpen}}},[t._v("☰")])],1)])},c=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("h1",[n("span",[t._v("B")]),n("span",[t._v("W")])])}],i={data:function(){return{isNavOpen:!1}},created:function(){this.$store.dispatch({type:"setLoggedInUser"})},methods:{logout:function(){this.$store.dispatch({type:"logout"})}},computed:{loggedInUser:function(){return this.$store.getters.loggedInUser}}},u=i,l=n("2877"),p=Object(l["a"])(u,o,c,!1,null,null,null),m=p.exports,d=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{staticClass:"app-footer main-layout"},[n("div",{staticClass:"footer-container"},[n("div",{staticClass:"logo",on:{click:function(e){return t.$router.push("/")}}},[t._m(0),n("h1",[t._v("Bitcoin wallet")])]),n("small",[t._v("© coffeeRights eliMoyal() 2021")]),n("nav",{staticClass:"nav"},[n("router-link",{attrs:{exact:"",to:"/"}},[t._v("Home")]),n("router-link",{attrs:{exact:"",to:"/wallet"}},[t._v("wallet")]),n("router-link",{attrs:{exact:"",to:"/login"}},[t._v("login")])],1)])])},f=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("h1",[n("span",[t._v("B")]),n("span",[t._v("W")])])}],g={},v=g,h=Object(l["a"])(v,d,f,!1,null,null,null),w=h.exports,b={components:{appHeader:m,appFooter:w}},_=b,x=Object(l["a"])(_,a,s,!1,null,null,null),y=x.exports,U=n("8c4f"),C=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{staticClass:"main-layout page"},[n("div",{staticClass:"home"},[n("h1",[t._v("Universal crypto wallet")]),n("p",[t._v(" Get a cryptocurrency loan backed by the TOP 15 coins with up to 90% loan to value ratio (LTV). Earn crypto with 12.3% APR + compounding interest. Store, exchange and pay anytime. ")]),n("button",{on:{click:t.redirect}},[t._v("GET STARTED")]),n("img",{attrs:{src:"https://assets-global.website-files.com/5cc19fbd198b8d31a9c64876/60b622fb628ab52aec59cae0_main_hero-p-1080.jpeg",alt:"hero"}})])])},R=[],O={name:"Home",computed:{loggedInUser:function(){return this.$store.getters.loggedInUser}},methods:{redirect:function(){this.loggedInUser?this.$router.push("/wallet"):this.$router.push("/login")}},components:{}},k=O,I=Object(l["a"])(k,C,R,!1,null,null,null),j=I.exports,S=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{staticClass:"main-layout page"},[n("div",{staticClass:"wallet"},[n("div",{staticClass:"left"},[t.loggedInUser?n("div",{staticClass:"user-info"},[n("div",{staticClass:"user-info-header"},[n("img",{attrs:{src:t.loggedInUser.imgUrl,alt:"user-avatar"}}),n("div",[n("h2",[t._v(t._s(t.loggedInUser.username))]),n("h2",[t._v(t._s(t.loggedInUser.email))]),n("h2",[t._v(t._s(t.loggedInUser.phone))])])]),n("div",{staticClass:"user-balance"},[n("h3",[n("span",[t._v("Total Balance")]),n("span",[t._v("₿"+t._s(t.loggedInUser.coins))]),n("span",[t._v(t._s(t.userBitcoinRate))])]),n("h3",[n("span",[t._v("Bitcoin Rate")]),n("span",[t._v(t._s(t.bitcoinRate))])])])]):n("div",{staticClass:"user-login"},[n("h1",[t._v("sign up for free and and unlock your asset’s value!")]),n("button",{staticClass:"main-btn",on:{click:function(e){t.$emit(t.$router.push("/login"))}}},[t._v(" signup ")])]),n("div",{staticClass:"charts"},[n("h2",[t._v("Trade Volume")]),n("trade-chart",{attrs:{data:t.tradeData,divider:1e7,multi:2.1}}),n("h2",[t._v("Market Price")]),n("trade-chart",{attrs:{data:t.priceData,divider:1e3,multi:3}})],1)]),t.loggedInUser?n("div",{staticClass:"right"},[n("div",{staticClass:"contact-details-container"},[t.selectedContact?n("contact-details",{attrs:{contact:t.selectedContact}}):t._e()],1),n("contact-filter",{on:{setFilter:function(e){return t.setFilter(e)}}}),n("contact-list",{attrs:{contacts:t.contactsToDisplay,selectedContact:t.selectedContact},on:{selectContact:t.setSelectedContact}})],1):t._e()])])},$=[],E=n("1da1"),P=(n("4d63"),n("ac1f"),n("25f0"),n("4de4"),n("b0c0"),n("96cf"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{staticClass:"contact-list"},t._l(t.contacts,(function(e){return n("contact-preview",{key:e._id,class:{"selected-contact":t.selectedContact&&t.selectedContact._id===e._id},attrs:{contact:e},on:{selectContact:function(e){return t.$emit("selectContact",e)}}})})),1)}),N=[],D=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{staticClass:"contact-preview",on:{click:function(e){return t.$emit("selectContact",t.contact)}}},[n("img",{attrs:{src:t.contact.thumbnailUrl,alt:"contact-avatar"}}),n("h4",[t._v(t._s(t.contact.name))])])},L=[],T={props:{contact:Object}},F=T,M=Object(l["a"])(F,D,L,!1,null,null,null),B=M.exports,J={props:{contacts:Array,selectedContact:Object},components:{contactPreview:B}},A=J,q=Object(l["a"])(A,P,N,!1,null,null,null),H=q.exports,V=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{staticClass:"contact-filter"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.filterBy,expression:"filterBy"}],attrs:{type:"text",placeholder:"Search for contacts"},domProps:{value:t.filterBy},on:{input:[function(e){e.target.composing||(t.filterBy=e.target.value)},function(e){return t.$emit("setFilter",t.filterBy)}]}}),n("button",{on:{click:function(e){return t.$router.push("/contact")}}},[t._v("+")])])},W=[],G={data:function(){return{filterBy:""}}},z=G,K=Object(l["a"])(z,V,W,!1,null,null,null),Q=K.exports,X=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{staticClass:"contact-details",on:{click:function(e){return t.$router.push("contact/"+t.contact._id)}}},[n("img",{attrs:{src:t.contact.imgUrl,alt:"contact-avatar"}}),n("h2",[t._v(t._s(t.contact.name))]),n("h3",[t._v(t._s(t.contact.email))]),n("h3",[t._v(t._s(t.contact.phone))])])},Y=[],Z={props:{contact:Object}},tt=Z,et=Object(l["a"])(tt,X,Y,!1,null,null,null),nt=et.exports,rt=(n("d81d"),n("d3b7"),n("ddb0"),n("bc3a")),at=n.n(rt),st={getRate:ot,getTradeData:it,getMarketPriceData:lt};function ot(){return ct.apply(this,arguments)}function ct(){return ct=Object(E["a"])(regeneratorRuntime.mark((function t(){var e,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e=JSON.parse(localStorage.getItem("rate")),e){t.next=7;break}return t.next=4,at.a.get("https://blockchain.info/tobtc?currency=USD&value=1");case 4:n=t.sent,e=n.data,localStorage.setItem("rate",JSON.stringify(e));case 7:return t.abrupt("return",e);case 8:case"end":return t.stop()}}),t)}))),ct.apply(this,arguments)}function it(){return ut.apply(this,arguments)}function ut(){return ut=Object(E["a"])(regeneratorRuntime.mark((function t(){var e,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e=JSON.parse(localStorage.getItem("trade-volume")),e){t.next=7;break}return t.next=4,at.a.get("https://api.blockchain.info/charts/trade-volume?timespan=5months&format=json&cors=true");case 4:n=t.sent,e=n.data,localStorage.setItem("trade-volume",JSON.stringify(e));case 7:return e=e.values.map((function(t){return{date:new Date(1e3*t.x).toLocaleDateString(),value:t.y}})),t.abrupt("return",e);case 9:case"end":return t.stop()}}),t)}))),ut.apply(this,arguments)}function lt(){return pt.apply(this,arguments)}function pt(){return pt=Object(E["a"])(regeneratorRuntime.mark((function t(){var e,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e=JSON.parse(localStorage.getItem("market-price")),e){t.next=7;break}return t.next=4,at.a.get("https://api.blockchain.info/charts/market-price?timespan=5months&format=json&cors=true");case 4:n=t.sent,e=n.data,localStorage.setItem("market-price",JSON.stringify(e));case 7:return e=e.values.map((function(t){return{date:new Date(1e3*t.x).toLocaleDateString(),value:t.y}})),t.abrupt("return",e);case 9:case"end":return t.stop()}}),t)}))),pt.apply(this,arguments)}var mt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{staticClass:"trade-chart"},[t._l(t.data,(function(e){return n("span",{key:e.value,style:{height:e.value/t.divider*t.multi+"px"}},[n("p",[n("span",[t._v(t._s(t.getForrmatValue(e.value))+"M")]),n("span",[t._v(t._s(e.date))])])])})),t._m(0)],2)},dt=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",[n("div"),n("div"),n("div"),n("div"),n("div")])}],ft={props:["data","multi","divider"],methods:{getForrmatValue:function(t){var e=new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"});return e.format(t)},getForrmatedTime:function(t){return new Date(Date.now()-t).toLocaleDateString()}}},gt=ft,vt=Object(l["a"])(gt,mt,dt,!1,null,null,null),ht=vt.exports,wt={data:function(){return{filterBy:"",selectedContact:null,rate:null,tradeData:null,priceData:null}},created:function(){this.$store.dispatch("loadContacts"),this.getRate(),this.getTradeData(),this.getMarketPriceData()},mounted:function(){this.selectedContact=this.$store.getters.contacts[0]},methods:{setFilter:function(t){this.filterBy=t},setSelectedContact:function(t){this.selectedContact=t},getRate:function(){var t=this;return Object(E["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,st.getRate();case 2:t.rate=e.sent;case 3:case"end":return e.stop()}}),e)})))()},getTradeData:function(){var t=this;return Object(E["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,st.getTradeData();case 2:n=e.sent,t.tradeData=n;case 4:case"end":return e.stop()}}),e)})))()},getMarketPriceData:function(){var t=this;return Object(E["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,st.getMarketPriceData();case 2:n=e.sent,t.priceData=n;case 4:case"end":return e.stop()}}),e)})))()}},computed:{contacts:function(){return this.$store.getters.contacts},bitcoinRate:function(){var t=new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"});return t.format(1/this.rate)},userBitcoinRate:function(){var t=new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"});return t.format(this.loggedInUser.coins*(1/this.rate))},contactsToDisplay:function(){var t=new RegExp(this.filterBy,"i");return this.contacts.filter((function(e){return t.test(e.name)}))},loggedInUser:function(){return this.$store.getters.loggedInUser}},watch:{contacts:{handler:function(t){this.selectedContact=t[0]},deep:!0,immediate:!0}},components:{contactList:H,contactFilter:Q,contactDetails:nt,TradeChart:ht}},bt=wt,_t=Object(l["a"])(bt,S,$,!1,null,null,null),xt=_t.exports,yt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{staticClass:"main-layout page login-page"},[t.isLogin?n("div",{staticClass:"login"},[t.msg?n("span",[t._v(t._s(t.msg))]):t._e(),n("h1",[t._v("login")]),n("form",{on:{submit:function(e){return e.preventDefault(),t.login.apply(null,arguments)}}},[n("label",{attrs:{for:"username"}},[t._v("User name")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.user.username,expression:"user.username"}],attrs:{type:"text",id:"username"},domProps:{value:t.user.username},on:{input:function(e){e.target.composing||t.$set(t.user,"username",e.target.value)}}}),n("label",{attrs:{for:"pass"}},[t._v("Password")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.user.password,expression:"user.password"}],attrs:{type:"password",id:"pass"},domProps:{value:t.user.password},on:{input:function(e){e.target.composing||t.$set(t.user,"password",e.target.value)}}}),n("button",{attrs:{type:"submit"}},[t._v("Login")])]),n("p",[t._v("New here? "),n("span",{on:{click:function(e){t.isLogin=!t.isLogin}}},[t._v("Signup")])])]):t._e(),t.isLogin?t._e():n("div",{staticClass:"login"},[n("h1",[t._v("Signup")]),n("form",{on:{submit:function(e){return e.preventDefault(),t.signup.apply(null,arguments)}}},[n("label",{attrs:{for:"username"}},[t._v("User name")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.newUser.username,expression:"newUser.username"}],attrs:{type:"text",id:"username"},domProps:{value:t.newUser.username},on:{input:function(e){e.target.composing||t.$set(t.newUser,"username",e.target.value)}}}),n("label",{attrs:{for:"pass"}},[t._v("Password")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.newUser.password,expression:"newUser.password"}],attrs:{type:"password",id:"pass"},domProps:{value:t.newUser.password},on:{input:function(e){e.target.composing||t.$set(t.newUser,"password",e.target.value)}}}),n("label",{attrs:{for:"email"}},[t._v("Email")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.newUser.email,expression:"newUser.email"}],attrs:{type:"email",id:"email"},domProps:{value:t.newUser.email},on:{input:function(e){e.target.composing||t.$set(t.newUser,"email",e.target.value)}}}),n("label",{attrs:{for:"phone"}},[t._v("Phone")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.newUser.phone,expression:"newUser.phone"}],attrs:{type:"text",id:"phone"},domProps:{value:t.newUser.phone},on:{input:function(e){e.target.composing||t.$set(t.newUser,"phone",e.target.value)}}}),n("button",{attrs:{type:"submit"}},[t._v("Signup")])]),n("p",[t._v("Already member? "),n("span",{on:{click:function(e){t.isLogin=!t.isLogin}}},[t._v("Login")])])])])},Ut=[],Ct={data:function(){return{user:{username:"",password:""},newUser:{username:"",password:"",email:"",phone:""},msg:null,isLogin:!0}},methods:{login:function(){var t=this;return Object(E["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n={username:t.user.username,password:t.user.password},e.next=3,t.$store.dispatch("login",n);case 3:t.clearForm();case 4:case"end":return e.stop()}}),e)})))()},signup:function(){var t=this;return Object(E["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n={username:t.newUser.username,password:t.newUser.password,phone:t.newUser.phone,email:t.newUser.email},e.next=3,t.$store.dispatch("signup",n);case 3:t.clearForm();case 4:case"end":return e.stop()}}),e)})))()},clearForm:function(){var t=this;this.loggedInUser?(this.user={username:"",password:""},this.newUser={username:"",password:"",email:"",phone:""},this.$router.push("/wallet")):(this.msg="login faild, please try again",setTimeout((function(){t.msg=null}),3e3))}},computed:{loggedInUser:function(){return this.$store.getters.loggedInUser}}},Rt=Ct,Ot=Object(l["a"])(Rt,yt,Ut,!1,null,null,null),kt=Ot.exports,It=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.contact?n("section",{staticClass:"main-layout page"},[n("div",{staticClass:"contact-page"},[n("div",{staticClass:"contact-nav"},[n("button",{on:{click:function(e){return t.navigateContact(-1)}}},[t._v("Previous")]),n("button",{on:{click:function(e){return t.navigateContact(1)}}},[t._v("Next")])]),n("div",{staticClass:"contact-info"},[t.isEditable?[n("img",{attrs:{src:t.contact.imgUrl,alt:"contact-avatar"},on:{click:t.changeImg}}),n("label",{attrs:{for:"name"}},[t._v("Name")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.contact.name,expression:"contact.name"}],attrs:{id:"name"},domProps:{value:t.contact.name},on:{input:function(e){e.target.composing||t.$set(t.contact,"name",e.target.value)}}}),n("label",{attrs:{for:"email"}},[t._v("Email")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.contact.email,expression:"contact.email"}],attrs:{id:"name"},domProps:{value:t.contact.email},on:{input:function(e){e.target.composing||t.$set(t.contact,"email",e.target.value)}}}),n("label",{attrs:{for:"phone"}},[t._v("Phone")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.contact.phone,expression:"contact.phone"}],attrs:{id:"name"},domProps:{value:t.contact.phone},on:{input:function(e){e.target.composing||t.$set(t.contact,"phone",e.target.value)}}})]:[n("img",{attrs:{src:t.contact.imgUrl,alt:"contact-avatar"}}),n("label",{attrs:{for:"name"}},[t._v("Name")]),n("h2",{attrs:{id:"name"}},[t._v(" "+t._s(t.contact.name)+" ")]),n("label",{attrs:{for:"email"}},[t._v("Email")]),n("h2",{attrs:{id:"email"}},[t._v(" "+t._s(t.contact.email)+" ")]),n("label",{attrs:{for:"phone"}},[t._v("Phone")]),n("h2",{attrs:{id:"phone"}},[t._v(" "+t._s(t.contact.phone)+" ")])],n("div",{staticClass:"btn-container"},[n("button",{staticClass:"main-btn",on:{click:t.editContact}},[t._v(" "+t._s(t.isEditable?"Save":"Edit")+" ")]),t.contact._id?n("button",{staticClass:"main-btn remove-btn",on:{click:t.removeContact}},[t._v(" Remove ")]):t._e()])],2),n("div",{staticClass:"transfer-container"},[n("transfer-fund",{attrs:{contact:t.contact}}),n("transfer-list",{attrs:{contact:t.contact}})],1)])]):t._e()},jt=[],St=(n("99af"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{staticClass:"transfer-fund"},[n("h2",[t._v("Transfer fund to "+t._s(t.contact.name))]),n("form",{on:{submit:t.transferFund}},[n("label",{attrs:{for:"amount"}},[t._v("Amount")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.move.amount,expression:"move.amount"}],attrs:{type:"number",id:"amount",placeholder:"Enter amount"},domProps:{value:t.move.amount},on:{input:function(e){e.target.composing||t.$set(t.move,"amount",e.target.value)}}}),n("button",{staticClass:"main-btn"},[t._v("Transfer")])])])}),$t=[],Et=n("2909"),Pt=n("5530"),Nt={props:{contact:Object},data:function(){return{move:{transferAt:null,amount:null,toContact:null,fromUser:null}}},created:function(){this.move.toContact={_id:this.contact._id,name:this.contact.name,imgUrl:this.contact.imgUrl},this.move.fromUser={_id:this.loggedInUser._id,name:this.loggedInUser.username,imgUrl:this.loggedInUser.imgUrl}},methods:{transferFund:function(){var t=this;return Object(E["a"])(regeneratorRuntime.mark((function e(){var n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.move.transferAt=Date.now(),n=Object(Pt["a"])(Object(Pt["a"])({},t.contact),{},{moves:[].concat(Object(Et["a"])(t.contact.moves),[t.move]),coins:t.contact.coins+t.move.amount}),r=Object(Pt["a"])(Object(Pt["a"])({},t.loggedInUser),{},{moves:[].concat(Object(Et["a"])(t.loggedInUser.moves),[t.move]),coins:t.loggedInUser.coins-t.move.amount}),t.$store.dispatch({type:"saveContact",contact:n}),t.$store.dispatch({type:"saveUser",user:r}),t.clearForm();case 6:case"end":return e.stop()}}),e)})))()},clearForm:function(){this.move={transferAt:null,amount:null,toContact:null,fromUser:null}}},computed:{loggedInUser:function(){return this.$store.getters.loggedInUser}}},Dt=Nt,Lt=Object(l["a"])(Dt,St,$t,!1,null,null,null),Tt=Lt.exports,Ft=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{staticClass:"transfer-list"},t._l(t.moves,(function(t){return n("transfer-preview",{key:t.transferAt+t.amount,attrs:{move:t}})})),1)},Mt=[],Bt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{staticClass:"transfer-preview"},[n("img",{attrs:{src:t.move.fromUser.imgUrl,alt:""}}),n("p",[t._v(t._s(t.move.fromUser.name)+" has transfer "+t._s(t.move.amount)+" to "+t._s(t.move.toContact.name))]),n("div",{staticClass:"date"},[n("h4",[t._v(t._s(t.date))]),n("h4",[t._v(t._s(t.time))])])])},Jt=[],At={props:{move:Object},computed:{date:function(){return new Date(this.move.transferAt).toLocaleDateString()},time:function(){return new Date(this.move.transferAt).toLocaleTimeString()}}},qt=At,Ht=Object(l["a"])(qt,Bt,Jt,!1,null,null,null),Vt=Ht.exports,Wt={props:{contact:Object},computed:{moves:function(){return this.contact.moves}},components:{TransferPreview:Vt}},Gt=Wt,zt=Object(l["a"])(Gt,Ft,Mt,!1,null,null,null),Kt=zt.exports,Qt=(n("c740"),n("7db0"),n("a434"),n("159b"),{storeToStorage:Xt,loadFromStorage:Yt,getRandomInt:te,getRandomId:Zt});function Xt(t,e){localStorage.setItem(t,JSON.stringify(e)||null)}function Yt(t){var e=localStorage.getItem(t);return e?JSON.parse(e):void 0}function Zt(){var t=Date.now().toString(16),e=te(1e3,9999).toString(16),n=te(1e3,9999).toString(16);return"".concat(n,"-").concat(t,"-").concat(e).toUpperCase()}function te(t,e){var n=t>=e?t+1:e+1,r=t<=e?t:e;return Math.floor(Math.random()*(n-r))+r}var ee={query:re,get:ae,delete:oe,post:ie,put:le,insert:me},ne="_id";function re(t){var e=Qt.loadFromStorage(t);return e||(e=[]),Promise.resolve(e)}function ae(t,e){return se.apply(this,arguments)}function se(){return se=Object(E["a"])(regeneratorRuntime.mark((function t(e,n){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,re(e);case 2:return r=t.sent,t.abrupt("return",r.find((function(t){return t[ne]===n})));case 4:case"end":return t.stop()}}),t)}))),se.apply(this,arguments)}function oe(t,e){return ce.apply(this,arguments)}function ce(){return ce=Object(E["a"])(regeneratorRuntime.mark((function t(e,n){var r,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,re(e);case 2:if(r=t.sent,a=r.findIndex((function(t){return t[ne]===n})),-1!==a){t.next=6;break}throw new Error("something went wrong");case 6:return r.splice(a,1),Qt.storeToStorage(e,r),t.abrupt("return",Promise.resolve());case 9:case"end":return t.stop()}}),t)}))),ce.apply(this,arguments)}function ie(t,e){return ue.apply(this,arguments)}function ue(){return ue=Object(E["a"])(regeneratorRuntime.mark((function t(e,n){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,re(e);case 2:return r=t.sent,n[ne]=Qt.getRandomId(),r.push(n),Qt.storeToStorage(e,r),t.abrupt("return",Promise.resolve(n));case 7:case"end":return t.stop()}}),t)}))),ue.apply(this,arguments)}function le(t,e){return pe.apply(this,arguments)}function pe(){return pe=Object(E["a"])(regeneratorRuntime.mark((function t(e,n){var r,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,re(e);case 2:if(r=t.sent,a=r.findIndex((function(t){return t[ne]===n[ne]})),-1!==a){t.next=6;break}throw new Error("something went wrong");case 6:return r[a]=n,Qt.storeToStorage(e,r),t.abrupt("return",Promise.resolve(n));case 9:case"end":return t.stop()}}),t)}))),pe.apply(this,arguments)}function me(t,e){return de.apply(this,arguments)}function de(){return de=Object(E["a"])(regeneratorRuntime.mark((function t(e,n){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,re(e);case 2:return r=t.sent,n.forEach((function(t){return t[ne]=Qt.getRandomId()})),r.push.apply(r,Object(Et["a"])(n)),Qt.storeToStorage(e,r),t.abrupt("return",Promise.resolve());case 7:case"end":return t.stop()}}),t)}))),de.apply(this,arguments)}var fe="contacts",ge={query:ve,get:we,remove:_e,save:xe,getNextContactId:ye,getEmptyContact:Oe};function ve(){return he.apply(this,arguments)}function he(){return he=Object(E["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,ee.query(fe);case 2:if(e=t.sent,e&&e.length){t.next=9;break}return t.next=6,Ce();case 6:return e=t.sent,t.next=9,ee.insert(fe,e);case 9:return t.abrupt("return",e);case 10:case"end":return t.stop()}}),t)}))),he.apply(this,arguments)}function we(t){return be.apply(this,arguments)}function be(){return be=Object(E["a"])(regeneratorRuntime.mark((function t(e){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,ee.get(fe,e);case 2:if(n=t.sent,n){t.next=5;break}throw new Error("Unknown Contact");case 5:return t.abrupt("return",n);case 6:case"end":return t.stop()}}),t)}))),be.apply(this,arguments)}function _e(t){return ee.delete(fe,t)}function xe(t){return t._id?ee.put(fe,t):ee.post(fe,t)}function ye(t,e){return Ue.apply(this,arguments)}function Ue(){return Ue=Object(E["a"])(regeneratorRuntime.mark((function t(e,n){var r,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,ee.query(fe);case 2:if(r=t.sent,a=r.findIndex((function(t){return t._id===e})),!(a+n<0)){t.next=6;break}return t.abrupt("return",r[r.length-1]._id);case 6:if(!(a+n>r.length-1)){t.next=8;break}return t.abrupt("return",r[0]._id);case 8:return t.abrupt("return",r[a+n]._id);case 9:case"end":return t.stop()}}),t)}))),Ue.apply(this,arguments)}function Ce(){return Re.apply(this,arguments)}function Re(){return Re=Object(E["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,ke(!0);case 2:return t.t0=t.sent,t.next=5,ke(!0);case 5:return t.t1=t.sent,t.next=8,ke(!0);case 8:return t.t2=t.sent,t.next=11,ke(!0);case 11:return t.t3=t.sent,t.next=14,ke(!0);case 14:return t.t4=t.sent,t.next=17,ke(!0);case 17:return t.t5=t.sent,t.next=20,ke(!0);case 20:return t.t6=t.sent,t.next=23,ke(!0);case 23:return t.t7=t.sent,t.next=26,ke(!0);case 26:return t.t8=t.sent,t.abrupt("return",[t.t0,t.t1,t.t2,t.t3,t.t4,t.t5,t.t6,t.t7,t.t8]);case 28:case"end":return t.stop()}}),t)}))),Re.apply(this,arguments)}function Oe(){return ke(!1)}function ke(t){return Ie.apply(this,arguments)}function Ie(){return Ie=Object(E["a"])(regeneratorRuntime.mark((function t(e){var n,r,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e){t.next=8;break}return t.next=3,at.a.get("https://randomuser.me/api/");case 3:return n=t.sent,r=n.data.results[0],t.abrupt("return",{name:"".concat(r.name.first," ").concat(r.name.last),email:r.email,phone:r.cell,thumbnailUrl:r.picture.thumbnail,imgUrl:r.picture.large,moves:[],coins:Qt.getRandomInt(1,100)});case 8:return a="https://randomuser.me/api/portraits/".concat(Math.random()>.5?"men":"women","/").concat(Qt.getRandomInt(1,100),".jpg"),t.abrupt("return",{name:"",email:"",phone:"",imgUrl:a,thumbnailUrl:a,moves:[],coins:Qt.getRandomInt(1,100)});case 10:case"end":return t.stop()}}),t)}))),Ie.apply(this,arguments)}var je={data:function(){return{contact:null,isEditable:!1}},created:function(){var t=this.$route.params.contactId;t?this.setContact(t):this.getEmptyContact()},methods:{setContact:function(t){var e=this;return Object(E["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,ge.get(t);case 2:e.contact=n.sent;case 3:case"end":return n.stop()}}),n)})))()},editContact:function(){this.isEditable?(this.isEditable=!1,this.saveContact()):this.isEditable=!0},saveContact:function(){this.$store.dispatch({type:"saveContact",contact:this.contact})},removeContact:function(){this.$store.dispatch({type:"removeContact",contactId:this.contact._id}),this.$router.push("/wallet")},getEmptyContact:function(){var t=this;return Object(E["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,ge.getEmptyContact();case 2:t.contact=e.sent,t.isEditable=!0;case 4:case"end":return e.stop()}}),e)})))()},navigateContact:function(t){var e=this;return Object(E["a"])(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,ge.getNextContactId(e.contact._id,t);case 2:r=n.sent,e.$router.push("/contact/".concat(r)),e.isEditable=!1;case 5:case"end":return n.stop()}}),n)})))()},changeImg:function(){var t="https://randomuser.me/api/portraits/".concat(Math.random()>.5?"men":"women","/").concat(Qt.getRandomInt(1,100),".jpg");this.contact.imgUrl=t,this.contact.thumbnailUrl=t}},watch:{"$route.params.contactId":{handler:function(t){this.setContact(t)},deep:!0,immediate:!0}},components:{TransferFund:Tt,TransferList:Kt}},Se=je,$e=Object(l["a"])(Se,It,jt,!1,null,null,null),Ee=$e.exports;r["a"].use(U["a"]);var Pe=[{path:"/",name:"Home",component:j},{path:"/wallet",name:"wallet",component:xt},{path:"/login",name:"login",component:kt},{path:"/contact/:contactId?",name:"contact",component:Ee}],Ne=new U["a"]({mode:"history",base:"/bitcoin-wallet/",routes:Pe}),De=Ne,Le=n("2f62"),Te={state:{contacts:[]},getters:{contacts:function(t){return t.contacts}},mutations:{loadContacts:function(t,e){var n=e.contacts;t.contacts=n},saveContact:function(t,e){var n=e.contact,r=t.contacts.findIndex((function(t){return t._id===n._id}));-1===r?t.contacts.push(n):t.contacts.splice(r,1,n)},removeContact:function(t,e){var n=e.contactId,r=t.contacts.findIndex((function(t){return t._id===n}));-1!==r&&t.contacts.splice(r,1)}},actions:{loadContacts:function(t){return Object(E["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,ge.query();case 2:n=e.sent,t.commit({type:"loadContacts",contacts:n});case 4:case"end":return e.stop()}}),e)})))()},saveContact:function(t,e){return Object(E["a"])(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e.contact,n.next=3,ge.save(r);case 3:t.commit({type:"saveContact",contact:r});case 4:case"end":return n.stop()}}),n)})))()},removeContact:function(t,e){return Object(E["a"])(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e.contactId,n.next=3,ge.remove(r);case 3:t.commit({type:"removeContact",contactId:r});case 4:case"end":return n.stop()}}),n)})))()}},modules:{}},Fe="user",Me="loggedinUser",Be={query:Je,login:qe,logout:Ge,signup:Ve,remove:ze,save:Ke,getLoggedinUser:Xe};function Je(){return Ae.apply(this,arguments)}function Ae(){return Ae=Object(E["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,ee.query(Fe);case 2:if(e=t.sent,e&&e.length){t.next=9;break}return t.next=6,Ze();case 6:return e=t.sent,t.next=9,ee.insert(Fe,e);case 9:return t.abrupt("return",e);case 10:case"end":return t.stop()}}),t)}))),Ae.apply(this,arguments)}function qe(t){return He.apply(this,arguments)}function He(){return He=Object(E["a"])(regeneratorRuntime.mark((function t(e){var n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return console.log(e),t.next=3,ee.query(Fe);case 3:if(n=t.sent,!n){t.next=8;break}return r=n.find((function(t){return t.username===e.username&&t.password===e.password})),r&&sessionStorage.setItem(Me,JSON.stringify(r)),t.abrupt("return",r);case 8:case"end":return t.stop()}}),t)}))),He.apply(this,arguments)}function Ve(t){return We.apply(this,arguments)}function We(){return We=Object(E["a"])(regeneratorRuntime.mark((function t(e){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=Object(Pt["a"])(Object(Pt["a"])({},e),{},{imgUrl:"https://randomuser.me/api/portraits/".concat(Math.random>.5?"men":"women","/").concat(Qt.getRandomInt(1,100),".jpg"),coins:Qt.getRandomInt(100,1e3),moves:[]}),t.next=3,ee.post(Fe,n);case 3:return sessionStorage.setItem(Me,JSON.stringify(n)),t.abrupt("return",n);case 5:case"end":return t.stop()}}),t)}))),We.apply(this,arguments)}function Ge(){return sessionStorage.setItem(Me,null),Promise.resolve()}function ze(t){return ee.delete(Fe,t)}function Ke(t){return Qe.apply(this,arguments)}function Qe(){return Qe=Object(E["a"])(regeneratorRuntime.mark((function t(e){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e._id){t.next=8;break}return t.next=3,Xe();case 3:return n=t.sent,e._id===n._id&&sessionStorage.setItem(Me,JSON.stringify(e)),t.abrupt("return",ee.put(Fe,e));case 8:return t.abrupt("return",ee.post(Fe,e));case 9:case"end":return t.stop()}}),t)}))),Qe.apply(this,arguments)}function Xe(){return Ye.apply(this,arguments)}function Ye(){return Ye=Object(E["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",JSON.parse(sessionStorage.getItem(Me)));case 1:case"end":return t.stop()}}),t)}))),Ye.apply(this,arguments)}function Ze(){var t=[tn(),tn(),tn()];return t}function tn(){return en.apply(this,arguments)}function en(){return en=Object(E["a"])(regeneratorRuntime.mark((function t(){var e,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,at.a.get("https://randomuser.me/api/");case 2:return e=t.sent,n=e.data.results[0],t.abrupt("return",{username:"".concat(n.name.first," ").concat(n.name.last),email:n.email,password:"123",phone:n.cell,imgUrl:n.picture.large,moves:[],coins:Qt.getRandomInt(1,100)});case 5:case"end":return t.stop()}}),t)}))),en.apply(this,arguments)}var nn={state:{loggedInUser:null},getters:{loggedInUser:function(t){return t.loggedInUser}},mutations:{setLoggedInUser:function(t,e){var n=e.user;t.loggedInUser=n}},actions:{setLoggedInUser:function(t){return Object(E["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Be.getLoggedinUser();case 2:n=e.sent,n&&t.commit({type:"setLoggedInUser",user:n});case 4:case"end":return e.stop()}}),e)})))()},login:function(t,e){return Object(E["a"])(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,Be.login(e);case 2:r=n.sent,t.commit({type:"setLoggedInUser",user:r});case 4:case"end":return n.stop()}}),n)})))()},logout:function(t){return Object(E["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Be.logout();case 2:t.commit({type:"setLoggedInUser",user:null});case 3:case"end":return e.stop()}}),e)})))()},signup:function(t,e){return Object(E["a"])(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,Be.signup(e);case 2:r=n.sent,t.commit({type:"setLoggedInUser",user:r});case 4:case"end":return n.stop()}}),n)})))()},saveUser:function(t,e){return Object(E["a"])(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e.user,n.next=3,Be.save(r);case 3:r._id===t.state.loggedInUser._id&&t.commit({type:"setLoggedInUser",user:r});case 4:case"end":return n.stop()}}),n)})))()}},modules:{}};r["a"].use(Le["a"]);var rn=new Le["a"].Store({state:{},mutations:{},actions:{},modules:{contactModule:Te,userModule:nn}}),an=(n("27dc"),n("ad3d"));r["a"].component("font-awesome-icon",an["a"]),r["a"].config.productionTip=!1,new r["a"]({router:De,store:rn,render:function(t){return t(y)}}).$mount("#app")}});
//# sourceMappingURL=app.bbb9961f.js.map